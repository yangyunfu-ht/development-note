# HTTP 状态码详解

HTTP 状态码 (Status Codes) 是服务器响应客户端请求时返回的三位数字代码。了解状态码对于前端调试、接口对接和 SEO 优化至关重要。

## 1. 状态码分类

| 类别    | 原因短语                        | 描述                       |
| :------ | :------------------------------ | :------------------------- |
| **1xx** | Informational (信息性状态码)    | 接收的请求正在处理         |
| **2xx** | Success (成功状态码)            | 请求正常处理完毕           |
| **3xx** | Redirection (重定向状态码)      | 需要进行附加操作以完成请求 |
| **4xx** | Client Error (客户端错误状态码) | 服务器无法处理请求         |
| **5xx** | Server Error (服务器错误状态码) | 服务器处理请求出错         |

## 2. 常见状态码及应用场景

### 2.1 2xx 成功 (Success)

#### **200 OK**

- **含义**: 请求已成功，请求所希望的响应头或数据体将随此响应返回。
- **场景**: 最常见的成功状态码。GET, HEAD, POST, PUT, PATCH 等请求成功时返回。

#### **201 Created**

- **含义**: 请求成功并且服务器创建了新的资源。
- **场景**: 通常用于 POST 请求创建资源成功（如用户注册、发布文章）。响应头 `Location` 字段通常包含新资源的 URL。

#### **204 No Content**

- **含义**: 服务器成功处理了请求，但不需要返回任何实体内容。
- **场景**:
  - DELETE 请求成功删除资源后。
  - PUT 请求更新资源成功，但不需要返回新数据时。

#### **206 Partial Content**

- **含义**: 服务器已经成功处理了部分 GET 请求。
- **场景**:
  - **断点续传**：客户端发送 `Range: bytes=500-999` 请求头，服务器返回 206 和指定范围的数据。
  - **视频/音频流媒体播放**：分段加载大文件。

---

### 2.2 3xx 重定向 (Redirection)

#### **301 Moved Permanently**

- **含义**: **永久重定向**。请求的资源已被永久移动到新 URI。
- **场景**:
  - 网站域名更换（如 `http://example.com` -> `https://example.com`）。
  - URL 结构调整。
  - **注意**: 浏览器会缓存 301 响应，下次直接访问新地址，不再请求原地址。

#### **302 Found**

- **含义**: **临时重定向**。资源只是暂时移动。
- **场景**:
  - 未登录用户访问个人中心，重定向到登录页（登录后可能跳回原处）。
  - 活动页面的临时跳转。
  - **注意**: 搜索引擎不会更新链接，浏览器通常不缓存。

#### **304 Not Modified**

- **含义**: **协商缓存命中**。资源未修改，可以直接使用浏览器本地缓存。
- **场景**:
  - 客户端请求头带 `If-None-Match` (Etag) 或 `If-Modified-Since` (Last-Modified)。
  - 服务器比对后发现资源未变，返回 304（无 Body），节省带宽。

---

### 2.3 4xx 客户端错误 (Client Error)

#### **400 Bad Request**

- **含义**: 客户端请求的语法错误，服务器无法理解。
- **场景**:
  - 前端参数格式错误（如 JSON 格式不对）。
  - 缺少必填参数。

#### **401 Unauthorized**

- **含义**: 请求要求用户的身份认证。
- **场景**:
  - 未登录访问需要权限的接口。
  - Token 过期或无效。
  - 收到 401 后通常引导用户跳转登录页。

#### **403 Forbidden**

- **含义**: 服务器理解请求客户端的请求，但是拒绝执行此请求。
- **场景**:
  - 登录了但权限不足（如普通用户访问管理员接口）。
  - IP 被黑名单封禁。
  - 防盗链拦截。

#### **404 Not Found**

- **含义**: 服务器无法根据客户端的请求找到资源。
- **场景**:
  - 请求的 API 路径写错。
  - 页面文件不存在。

#### **405 Method Not Allowed**

- **含义**: 客户端请求中的方法被禁止。
- **场景**:
  - 接口只支持 POST，前端用了 GET 请求。

#### **429 Too Many Requests**

- **含义**: 客户端在给定的时间内发送了太多的请求。
- **场景**:
  - 触发了服务器的**限流**策略。

---

### 2.4 5xx 服务器错误 (Server Error)

#### **500 Internal Server Error**

- **含义**: 服务器内部错误，无法完成请求。
- **场景**:
  - 后端代码抛出异常未捕获。
  - 数据库连接失败。

#### **502 Bad Gateway**

- **含义**: 作为网关或者代理工作的服务器尝试执行请求时，从上游服务器接收到无效的响应。
- **场景**:
  - Nginx 反向代理配置错误。
  - 后端服务（如 Node.js/Java 进程）挂了，Nginx 连不上。

#### **503 Service Unavailable**

- **含义**: 由于超载或系统维护，服务器暂时的无法处理客户端的请求。
- **场景**:
  - 服务器停机维护。
  - 流量激增导致服务过载。

#### **504 Gateway Timeout**

- **含义**: 网关或者代理的服务器无法在规定的时间内获得想要的响应。
- **场景**:
  - 后端业务逻辑处理太慢，超过了 Nginx 的超时时间设置。
  - 数据库查询死锁导致响应超时。

## 3. 状态码速查表

| 状态码  | 关键字       | 核心记忆点                    |
| :------ | :----------- | :---------------------------- |
| **200** | OK           | 成功                          |
| **204** | No Content   | 成功但无返回内容 (DELETE/PUT) |
| **206** | Partial      | 范围请求 (断点续传/视频)      |
| **301** | Permanent    | 永久搬家 (缓存)               |
| **302** | Found        | 临时借住 (不缓存)             |
| **304** | Not Modified | 缓存命中 (省流量)             |
| **400** | Bad Request  | 参数错了                      |
| **401** | Unauthorized | 未登录/无 Token               |
| **403** | Forbidden    | 没权限/被禁                   |
| **404** | Not Found    | 找不到                        |
| **500** | Server Error | 后端炸了                      |
| **502** | Bad Gateway  | 网关坏了 (后端挂了)           |
| **504** | Timeout      | 超时了 (后端太慢)             |
