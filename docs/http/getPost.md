# GET 和 POST 请求的区别

在前端面试和日常开发中，GET 和 POST 的区别是一个非常高频的话题。虽然它们都是 HTTP 协议中的请求方法，但在语义、参数传递、缓存机制等方面有着显著差异。

## 1. 核心区别总结

| 特性         | GET                                 | POST                            |
| :----------- | :---------------------------------- | :------------------------------ |
| **语义**     | 获取资源 (Read)                     | 提交资源 (Write)                |
| **参数位置** | URL 查询参数 (Query String)         | 请求体 (Request Body)           |
| **安全性**   | 差 (参数暴露在 URL)                 | 相对较好 (参数在 Body)          |
| **幂等性**   | 是 (Idempotent)                     | 否                              |
| **缓存**     | 默认可缓存                          | 默认不可缓存                    |
| **数据长度** | 受浏览器/服务器 URL 长度限制        | 无限制 (受服务器配置限制)       |
| **编码类型** | `application/x-www-form-urlencoded` | 多种 (JSON, Multipart, Form 等) |

## 2. 深度解析

### 2.1 语义与用途

- **GET**: 本质是**获取**数据。就像去图书馆查书，不会改变书的内容。它是**安全**的（不改变服务器状态）和**幂等**的（多次请求结果一致）。
- **POST**: 本质是**提交**数据。就像向图书馆捐书，会增加库存。它通常用于创建新资源或修改现有资源，**不幂等**（多次提交可能创建多份数据）。

### 2.2 参数传递与长度限制

- **GET**: 参数拼接在 URL 后面（如 `?id=1&name=test`）。
  - **限制**: HTTP 协议本身未限制 URL 长度，但**浏览器和服务器**（如 Chrome, Apache, Nginx）对 URL 长度有限制（通常在 2KB - 8KB 之间）。超出会被截断或报 414 错误。
- **POST**: 参数放在请求体（Body）中。
  - **限制**: 理论上无限制，但实际受 Web 服务器配置（如 Nginx 的 `client_max_body_size`）限制。

### 2.3 缓存机制

- **GET**: 浏览器会主动缓存 GET 请求的结果。如果 URL 不变，浏览器可能直接从缓存读取数据（配合 HTTP 缓存头）。
- **POST**: 默认不会被缓存。除非在响应头中显式指定 `Cache-Control` 或 `Expires`。

### 2.4 安全性误区

- **误区**: "POST 比 GET 安全"。
- **真相**:
  - GET 的参数直接暴露在 URL 中，容易被历史记录、代理服务器日志记录，不适合传输密码等敏感信息。
  - POST 的参数在 Body 中，虽然 URL 不可见，但在网络传输中（如果不使用 HTTPS）依然是明文的，抓包一样可以看到。
  - **结论**: **HTTP 协议下两者都不安全**。要安全必须上 **HTTPS**。

## 3. 经典面试题：关于 TCP 数据包

> **问**: GET 产生一个 TCP 数据包，POST 产生两个 TCP 数据包？

这是一个在网上流传很广的说法，但**并不完全准确**。

- **流言来源**: 有些文章提到，对于 POST 请求，浏览器会先发送 Header，服务器响应 100 Continue，浏览器再发送 Body。
- **实际情况**:
  - 这取决于**浏览器**和**网络库**的实现。
  - Firefox 通常发送一个包。
  - Chrome 在某些情况下也会合并发送。
  - 即使分两次发送，这也是 TCP/IP 协议层面的优化策略或 HTTP 协议中 `Expect: 100-continue` 的机制，并非 GET 和 POST 的本质区别。
  - **结论**: 不要把这个当作标准答案，它是特定环境下的表现，而非协议规定。

## 4. 什么时候用 GET，什么时候用 POST？

- **使用 GET**:
  - 获取数据（列表、详情）。
  - 搜索接口（便于分享 URL）。
  - 不涉及敏感信息。
  - 需要利用浏览器缓存。

- **使用 POST**:
  - 创建、修改、删除数据（尽管 RESTful 推荐 PUT/DELETE，但 HTML Form 只支持 GET/POST）。
  - 传输大量数据（超过 URL 长度限制）。
  - 传输敏感数据（密码、Token）。
  - 上传文件（Multipart）。
