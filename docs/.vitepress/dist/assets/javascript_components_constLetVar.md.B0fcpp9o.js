import{_ as i,o as a,c as t,ag as n}from"./chunks/framework.CbQjVMS6.js";const g=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"javascript/components/constLetVar.md","filePath":"javascript/components/constLetVar.md"}'),l={name:"javascript/components/constLetVar.md"};function e(h,s,p,k,r,d){return a(),t("div",null,[...s[0]||(s[0]=[n(`<h2 id="var、let-和-const-的区别" tabindex="-1">var、let 和 const 的区别 <a class="header-anchor" href="#var、let-和-const-的区别" aria-label="Permalink to &quot;var、let 和 const 的区别&quot;">​</a></h2><p>在 ES6（ECMAScript 2015）之前，JavaScript 只有 <code>var</code> 一种声明变量的方式。ES6 引入了 <code>let</code> 和 <code>const</code>，为 JavaScript 带来了块级作用域变量声明。</p><h3 id="核心差异对比" tabindex="-1">核心差异对比 <a class="header-anchor" href="#核心差异对比" aria-label="Permalink to &quot;核心差异对比&quot;">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">特性</th><th style="text-align:left;">var</th><th style="text-align:left;">let</th><th style="text-align:left;">const</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>作用域</strong></td><td style="text-align:left;">函数作用域</td><td style="text-align:left;">块级作用域</td><td style="text-align:left;">块级作用域</td></tr><tr><td style="text-align:left;"><strong>变量提升</strong></td><td style="text-align:left;">是（初始化为 undefined）</td><td style="text-align:left;">否（存在暂时性死区 TDZ）</td><td style="text-align:left;">否（存在暂时性死区 TDZ）</td></tr><tr><td style="text-align:left;"><strong>重复声明</strong></td><td style="text-align:left;">允许</td><td style="text-align:left;">不允许</td><td style="text-align:left;">不允许</td></tr><tr><td style="text-align:left;"><strong>重新赋值</strong></td><td style="text-align:left;">允许</td><td style="text-align:left;">允许</td><td style="text-align:left;">不允许（引用类型可修改属性）</td></tr><tr><td style="text-align:left;"><strong>必须初始化</strong></td><td style="text-align:left;">否</td><td style="text-align:left;">否</td><td style="text-align:left;">是</td></tr><tr><td style="text-align:left;"><strong>挂载到 Window</strong></td><td style="text-align:left;">是</td><td style="text-align:left;">否</td><td style="text-align:left;">否</td></tr></tbody></table><h3 id="_1-作用域-scope" tabindex="-1">1. 作用域（Scope） <a class="header-anchor" href="#_1-作用域-scope" aria-label="Permalink to &quot;1. 作用域（Scope）&quot;">​</a></h3><ul><li><strong>var</strong>：是<strong>函数作用域</strong>。如果在函数外部声明，它是全局变量；如果在函数内部声明，它在整个函数内有效，忽略块级结构（如 <code>if</code>, <code>for</code>）。</li><li><strong>let / const</strong>：是<strong>块级作用域</strong>。只在声明它们的代码块 <code>{}</code> 内有效。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// var 的作用域</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(a); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 10 (泄露到全局)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// let 的作用域</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(b); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ReferenceError: b is not defined</span></span></code></pre></div><h3 id="_2-变量提升-hoisting" tabindex="-1">2. 变量提升（Hoisting） <a class="header-anchor" href="#_2-变量提升-hoisting" aria-label="Permalink to &quot;2. 变量提升（Hoisting）&quot;">​</a></h3><ul><li><strong>var</strong>：变量声明会被提升到作用域顶部，并初始化为 <code>undefined</code>。</li><li><strong>let / const</strong>：变量声明也会被提升，但在声明语句执行前，处于<strong>暂时性死区（Temporal Dead Zone, TDZ）</strong>，访问会报错。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// var</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(x); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// undefined</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> x </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// let</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(y); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ReferenceError: Cannot access &#39;y&#39; before initialization</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span></code></pre></div><h3 id="_3-重复声明" tabindex="-1">3. 重复声明 <a class="header-anchor" href="#_3-重复声明" aria-label="Permalink to &quot;3. 重复声明&quot;">​</a></h3><ul><li><strong>var</strong>：允许在同一作用域内重复声明同一个变量。</li><li><strong>let / const</strong>：不允许在同一作用域内重复声明。</li></ul><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 没问题</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// SyntaxError: Identifier &#39;b&#39; has already been declared</span></span></code></pre></div><h3 id="_4-const-的特殊性" tabindex="-1">4. Const 的特殊性 <a class="header-anchor" href="#_4-const-的特殊性" aria-label="Permalink to &quot;4. Const 的特殊性&quot;">​</a></h3><p><code>const</code> 声明的是常量，一旦声明必须立即初始化，且不能重新赋值。</p><p><strong>注意</strong>：<code>const</code> 限制的是<strong>变量绑定的引用地址</strong>不可变，而不是值本身不可变。如果 <code>const</code> 声明的是对象或数组，其内部属性是可以修改的。</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PI</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.14</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PI</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 3.14159</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// TypeError: Assignment to constant variable.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> user</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Alice&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> };</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user.name </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Bob&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 允许修改属性</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(user.name); </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// &quot;Bob&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">user </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Charlie&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// TypeError: Assignment to constant variable.</span></span></code></pre></div><h3 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to &quot;最佳实践&quot;">​</a></h3><ol><li><strong>默认使用 <code>const</code></strong>：如果变量不需要重新赋值，一律使用 <code>const</code>。这能保证数据不被意外修改。</li><li><strong>需要修改时用 <code>let</code></strong>：例如循环计数器或状态标记。</li><li><strong>避免使用 <code>var</code></strong>：现代 JavaScript 开发中应尽量避免使用 <code>var</code>，以减少作用域污染和变量提升带来的困惑。</li></ol>`,19)])])}const E=i(l,[["render",e]]);export{g as __pageData,E as default};
